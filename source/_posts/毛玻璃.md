---
title: 毛玻璃
date: 2022-01-11 21:32:55
author: Jack-zhang
categories: CSS
tags:
   - CSS
summary: css中的毛玻璃效果
---

## 初始化

```html
<div class="container">
  <div class="content">
    <h1>WARFRAME</h1>
    <p>The Grineer, with their endless clone armies, have plunged the system into chaos. There is only one force that
      can match them, you.
      You are Tenno, an ancient warrior, a master of gun and blade. You wield the mighty Warframes and command their
      awesome powers. Forge your weapons. Gather like-minded Tenno and take the fight back to the Grineer. The Origin
      System needs you once again. Are you ready?</p>
  </div>
</div>
```

```css
* {
  margin: 0%;
  padding: 0%;
}
html,
body {
  height: 100%;
  width: 100%;
  font-size: 1.2rem;
}
.container {
  height: 100%;
  width: 100%;
  background: url("./img/0.jpg");
  background-size: cover;
  overflow: hidden;
}
h1 {
  text-align: center;
}
.content {
  width: 40rem;
  height: 20rem;
  margin: 0 auto;
  margin-top: 15rem;
  padding: 2rem;
}
```

## 一点点思考

>毛玻璃效果会用到css滤镜`filter`中的`blur()`属性,传入css像素,值越大越模糊
>
>参考:<https://developer.mozilla.org/zh-CN/docs/Web/CSS/filter>

* 首先想到在contain中加入透明度并使用模糊滤镜

```css
.content{
  filter: blur(0.125rem);
  background-color: rgba(0, 0, 0, 0.3);
}
```

1. 但是这种效果内容也会模糊掉,为了保证文字不会模糊需要单独加一个应用层模糊效果
2. 模糊效果并不会用到其背后的元素,所以使用content区域要和背景相同的区域进行模糊

### 伪元素

>第一个方式就是添加伪元素(但是有一个问题就是伪元素不能使用width,height继承宿主元素的尺寸)

1. 在`.content`中加入相对定位
2. 为了使伪元素位于 content 的下面这里给其设置`z-index:-1`，为不使其隐藏到背景图的后面，这里给 content 设置 `z-index:1`

  ```css
  .container{
    position: relative;
    z-index:1;
  }
  .content::after {
  content: "";
  position: absolute;
  left: 0%;
  top: 0%;
  right: 0%;
  bottom: 0%;
  background-color: rgba(0, 0, 0, 0.3);
  background-size: cover;
  z-index: -1;
  }
  ```

3. 加下来设置相同的背景图并设置滤镜

   ```css
   .content::after{
      background-image: url("./img/0.jpg");
      filter: blur(10px);
   }
   ```

> 处理到现在中间的部分的图和大背景还是没有很好的拼接成功

### 模糊处理

>对伪元素进行模糊处理,使用`background-attachment: fixed;`

```css
.content::after{
  background-attachment: fixed;
}
```

* 这样就可以达到基本的效果

## backdrop-filter

> `background`与`filter`语法完全一致
>> 唯一不同的就是,`background`让当前元素所在区域**后面的内容**模糊灰度或高亮之类
>>
>>`filter`是让当前元素自身模糊灰度或高亮等

```css
/* 关键字值 */
backdrop-filter: none;

/* URLd方式外链SVG filter */
backdrop-filter: url(zxx.svg#filter);

/* <filter-function>值 */
backdrop-filter: blur(2px);
backdrop-filter: brightness(60%);
backdrop-filter: contrast(40%);
backdrop-filter: drop-shadow(4px 4px 10px blue);
backdrop-filter: grayscale(30%);
backdrop-filter: hue-rotate(120deg);
backdrop-filter: invert(70%);
backdrop-filter: opacity(20%);
backdrop-filter: sepia(90%);
backdrop-filter: saturate(80%);
```

| 滤镜        | 释义     |
| ----------- | -------- |
| blur        | 模糊     |
| brightness  | 亮度     |
| contrast    | 对比度   |
| drop-shadow | 投影     |
| grayscale   | 灰度     |
| hue-rotate  | 色调变化 |
| invert      | 反相     |
| opacity     | 透明度   |
| saturate    | 饱和度   |
| sepia       | 褐色     |

### 使用backdrop-filter

>* 使用backdrop-filter很容易达到毛玻璃效果,并且不需要伪元素.
>* 只需要在原来基础上加上`backdrop-filter: blur(23px);`

```css
.content {
  backdrop-filter: blur(23px);
}
```
